asyncapi: 2.0.0
info:
  title: Mqtt Controler
  version: '1.0.0'
  description: |
    Manages user accounts in the system.
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0
servers:
  production:
    url: mqtt://test.mosquitto.org
    protocol: mqtt
    description: Test MQTT broker
channels:
  api/mqtt/publish/AllDirtyClothes:
    subscribe:
      operationId: publishAllDirtyClothes
      message:
        $ref : '#/components/messages/DirtyClothes'

components:
  messages:
    DirtyClothes:
      name: clothes
      title: Dirty clothes to wash
      summary: Inform about clothes that need to be washed
      contentType: application/json
      payload:
        $ref: '#/components/schemas/dirtyClothesPayload'

  schemas:
    dirtyClothesPayload:
      type: string
#      properties:
#        firstName:
#          type: string
#          description: "foo"
#        lastName:
#          type: string
#          description: "bar"
#        email:
#          type: string
#          format: email
#          description: "baz"
#        createdAt:
#          type: string
#          format: date-time